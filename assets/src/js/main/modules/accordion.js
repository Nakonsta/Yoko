$(function() {
    var Accordion = function(el, multiple) {
            this.el = el || {};
            this.multiple = multiple || false;

            var links = this.el.find('.article-title');
            links.on('click', {
                    el: this.el,
                    multiple: this.multiple
            }, this.dropdown)
    }

    Accordion.prototype.dropdown = function(e) {
            var $el = e.data.el;
            $this = $(this),
                    $next = $this.next();

            $next.slideToggle();
            $this.parent().toggleClass('open');

            if (!e.data.multiple) {
                    $el.find('.accordion-content').not($next).slideUp().parent().removeClass('open');
            };
    }
    var accordion = new Accordion($('[data-js="accordion-container"]'), false);
});

if ($('[data-js="accordion-container"]').length) {
    $('#accordion').on('click', function (event) {
        if (!$(event.target).closest('#accordion').length) {
            $this.parent().toggleClass('open');
        }
    });
}

if ($('[data-js="accordion-container-contacts"]').length) {
    $('[data-js="contacts__show-map"]').on('click', function (event) {
        event.preventDefault();
        if ($(this).closest('.content-entry').hasClass('open')) {
            $(this).closest('.content-entry').removeClass('open');
            $(this).html(`
                <svg class="contacts__show-map-svg" xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.50002 1C11.7704 1 13.905 1.90493 15.5104 3.54809C17.1158 5.1913 18 7.37598 18 9.6997C18 14.4005 13.6574 18.3104 11.3242 20.411L11.3241 20.4111L11.322 20.413C10.9987 20.7041 10.7195 20.9555 10.4969 21.1683C10.2174 21.4355 9.8587 21.5692 9.49998 21.5692C9.14133 21.5692 8.78261 21.4355 8.50314 21.1683C8.28007 20.9551 8.00008 20.703 7.67586 20.4111C5.34276 18.3105 1 14.4006 1 9.6997C1 7.37598 1.88415 5.1913 3.4896 3.54809C5.095 1.90493 7.22961 1 9.50002 1ZM9.69322 20.2879C9.92912 20.0624 10.2152 19.8047 10.5466 19.5064C12.74 17.5316 16.8227 13.8557 16.8227 9.69974C16.8227 5.56709 13.5377 2.20495 9.49994 2.20495C5.46213 2.20495 2.17717 5.56709 2.17717 9.69974C2.17717 13.8557 6.25996 17.5316 8.45336 19.5064L8.45504 19.5079C8.78566 19.8056 9.07124 20.0627 9.3067 20.2879C9.41512 20.3914 9.58484 20.3914 9.69322 20.2879ZM5.47046 9.4141C5.47046 7.35191 7.27666 5.67426 9.4968 5.67426C11.7169 5.67426 13.5231 7.35191 13.5231 9.4141C13.5231 11.4763 11.7169 13.1539 9.4968 13.1539C7.27666 13.1539 5.47046 11.4763 5.47046 9.4141ZM6.73585 9.41406C6.73585 10.8281 7.97442 11.9785 9.4968 11.9785C11.0192 11.9785 12.2577 10.8281 12.2577 9.41406C12.2577 8.00003 11.0192 6.84959 9.4968 6.84959C7.97442 6.84959 6.73585 8.00003 6.73585 9.41406Z" fill="#D70029"/>
                        <path d="M15.5104 3.54809L15.7965 3.26856L15.5104 3.54809ZM18 9.6997H18.4V9.6997L18 9.6997ZM11.3242 20.411L11.0565 20.1137L11.0507 20.1192L11.3242 20.411ZM11.3241 20.4111L11.5917 20.7085L11.5977 20.7029L11.3241 20.4111ZM11.322 20.413L11.0545 20.1156L11.0544 20.1157L11.322 20.413ZM10.4969 21.1683L10.7733 21.4575L10.7733 21.4574L10.4969 21.1683ZM8.50314 21.1683L8.77956 20.8792L8.77954 20.8792L8.50314 21.1683ZM7.67586 20.4111L7.9435 20.1138H7.9435L7.67586 20.4111ZM3.4896 3.54809L3.20349 3.26856L3.4896 3.54809ZM10.5466 19.5064L10.8142 19.8037L10.8142 19.8037L10.5466 19.5064ZM9.69322 20.2879L9.96952 20.5771L9.96961 20.577L9.69322 20.2879ZM16.8227 9.69974H16.4227V9.69975L16.8227 9.69974ZM8.45336 19.5064L8.72124 19.2094L8.721 19.2091L8.45336 19.5064ZM8.45504 19.5079L8.18716 19.805L8.1874 19.8052L8.45504 19.5079ZM9.3067 20.2879L9.03023 20.577L9.0304 20.5771L9.3067 20.2879ZM15.7965 3.26856C14.1168 1.54938 11.8796 0.6 9.50002 0.6V1.4C11.6613 1.4 13.6931 2.26047 15.2243 3.82763L15.7965 3.26856ZM18.4 9.6997C18.4 7.27285 17.4759 4.98746 15.7965 3.26856L15.2243 3.82763C16.7558 5.39515 17.6 7.47911 17.6 9.69971L18.4 9.6997ZM11.5919 20.7083C12.7563 19.6599 14.4529 18.1337 15.8565 16.2712C17.2586 14.4106 18.4 12.1736 18.4 9.6997H17.6C17.6 11.9266 16.5701 13.9949 15.2176 15.7897C13.8666 17.5825 12.2253 19.0615 11.0566 20.1137L11.5919 20.7083ZM11.5977 20.7029L11.5978 20.7028L11.0507 20.1192L11.0506 20.1193L11.5977 20.7029ZM11.5896 20.7103L11.5917 20.7085L11.0566 20.1137L11.0545 20.1156L11.5896 20.7103ZM10.7733 21.4574C10.9906 21.2497 11.2648 21.0027 11.5897 20.7102L11.0544 20.1157C10.7326 20.4054 10.4483 20.6613 10.2204 20.8792L10.7733 21.4574ZM9.49998 21.9692C9.95827 21.9692 10.4169 21.7981 10.7733 21.4575L10.2205 20.8792C10.0178 21.0729 9.75914 21.1692 9.49998 21.1692V21.9692ZM8.22671 21.4575C8.58307 21.7982 9.04179 21.9692 9.49998 21.9692V21.1692C9.24088 21.1692 8.98216 21.0729 8.77956 20.8792L8.22671 21.4575ZM7.40822 20.7084C7.73398 21.0017 8.00893 21.2493 8.22673 21.4575L8.77954 20.8792C8.5512 20.6609 8.26619 20.4043 7.9435 20.1138L7.40822 20.7084ZM0.6 9.6997C0.6 12.1737 1.74146 14.4107 3.14357 16.2713C4.54717 18.1338 6.24385 19.66 7.40822 20.7084L7.9435 20.1138C6.77478 19.0616 5.13352 17.5826 3.78247 15.7898C2.42992 13.995 1.4 11.9266 1.4 9.6997H0.6ZM3.20349 3.26856C1.52409 4.98745 0.6 7.27285 0.6 9.6997H1.4C1.4 7.47911 2.24421 5.39515 3.77571 3.82763L3.20349 3.26856ZM9.50002 0.6C7.12049 0.6 4.88316 1.54938 3.20349 3.26856L3.77571 3.82763C5.30685 2.26047 7.33873 1.4 9.50002 1.4V0.6ZM10.2789 19.2092C9.949 19.5062 9.65796 19.7682 9.41682 19.9987L9.96961 20.577C10.2003 20.3565 10.4815 20.1033 10.8142 19.8037L10.2789 19.2092ZM16.4227 9.69975C16.4227 11.6489 15.4628 13.5207 14.19 15.1773C12.9205 16.8296 11.3779 18.2197 10.2789 19.2092L10.8142 19.8037C11.9086 18.8184 13.5041 17.3831 14.8243 15.6647C16.1413 13.9507 17.2227 11.9066 17.2227 9.69974L16.4227 9.69975ZM9.49994 2.60495C13.3081 2.60495 16.4227 5.7792 16.4227 9.69974H17.2227C17.2227 5.35499 13.7673 1.80495 9.49994 1.80495V2.60495ZM2.57717 9.69974C2.57717 5.7792 5.69175 2.60495 9.49994 2.60495V1.80495C5.23251 1.80495 1.77717 5.35499 1.77717 9.69974H2.57717ZM8.721 19.2091C7.62199 18.2197 6.07943 16.8296 4.80993 15.1773C3.53713 13.5207 2.57717 11.6489 2.57717 9.69974H1.77717C1.77717 11.9066 2.8586 13.9507 4.17555 15.6647C5.4958 17.3831 7.09134 18.8184 8.18573 19.8037L8.721 19.2091ZM8.72292 19.2109L8.72124 19.2094L8.18548 19.8035L8.18716 19.805L8.72292 19.2109ZM9.58317 19.9988C9.34242 19.7685 9.05184 19.507 8.72268 19.2106L8.1874 19.8052C8.51947 20.1042 8.80005 20.3568 9.03023 20.577L9.58317 19.9988ZM9.41691 19.9986C9.4631 19.9545 9.53678 19.9545 9.58301 19.9986L9.0304 20.5771C9.29345 20.8284 9.70659 20.8283 9.96952 20.5771L9.41691 19.9986ZM9.4968 5.27426C7.08406 5.27426 5.07046 7.10371 5.07046 9.4141H5.87046C5.87046 7.60012 7.46925 6.07426 9.4968 6.07426V5.27426ZM13.9231 9.4141C13.9231 7.10371 11.9095 5.27426 9.4968 5.27426V6.07426C11.5243 6.07426 13.1231 7.60012 13.1231 9.4141H13.9231ZM9.4968 13.5539C11.9095 13.5539 13.9231 11.7245 13.9231 9.4141H13.1231C13.1231 11.2281 11.5243 12.7539 9.4968 12.7539V13.5539ZM5.07046 9.4141C5.07046 11.7245 7.08406 13.5539 9.4968 13.5539V12.7539C7.46925 12.7539 5.87046 11.2281 5.87046 9.4141H5.07046ZM9.4968 11.5785C8.16701 11.5785 7.13585 10.5799 7.13585 9.41406H6.33585C6.33585 11.0763 7.78182 12.3785 9.4968 12.3785V11.5785ZM11.8577 9.41406C11.8577 10.5799 10.8266 11.5785 9.4968 11.5785V12.3785C11.2118 12.3785 12.6577 11.0763 12.6577 9.41406H11.8577ZM9.4968 7.24959C10.8266 7.24959 11.8577 8.24823 11.8577 9.41406H12.6577C12.6577 7.75183 11.2118 6.44958 9.4968 6.44958V7.24959ZM7.13585 9.41406C7.13585 8.24824 8.16701 7.24959 9.4968 7.24959V6.44958C7.78182 6.44958 6.33585 7.75182 6.33585 9.41406H7.13585Z" fill="#D70029"/>
                </svg>
                <span class="contacts__show-map-text">
                        Показать на карте
                </span>
            `)
            $(this).closest('.content-entry').find('.accordion-content').slideUp();
        } else {
            $('.content-entry').removeClass('open');
            $('[data-js="contacts__show-map"]').html(`
                <svg class="contacts__show-map-svg" xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.50002 1C11.7704 1 13.905 1.90493 15.5104 3.54809C17.1158 5.1913 18 7.37598 18 9.6997C18 14.4005 13.6574 18.3104 11.3242 20.411L11.3241 20.4111L11.322 20.413C10.9987 20.7041 10.7195 20.9555 10.4969 21.1683C10.2174 21.4355 9.8587 21.5692 9.49998 21.5692C9.14133 21.5692 8.78261 21.4355 8.50314 21.1683C8.28007 20.9551 8.00008 20.703 7.67586 20.4111C5.34276 18.3105 1 14.4006 1 9.6997C1 7.37598 1.88415 5.1913 3.4896 3.54809C5.095 1.90493 7.22961 1 9.50002 1ZM9.69322 20.2879C9.92912 20.0624 10.2152 19.8047 10.5466 19.5064C12.74 17.5316 16.8227 13.8557 16.8227 9.69974C16.8227 5.56709 13.5377 2.20495 9.49994 2.20495C5.46213 2.20495 2.17717 5.56709 2.17717 9.69974C2.17717 13.8557 6.25996 17.5316 8.45336 19.5064L8.45504 19.5079C8.78566 19.8056 9.07124 20.0627 9.3067 20.2879C9.41512 20.3914 9.58484 20.3914 9.69322 20.2879ZM5.47046 9.4141C5.47046 7.35191 7.27666 5.67426 9.4968 5.67426C11.7169 5.67426 13.5231 7.35191 13.5231 9.4141C13.5231 11.4763 11.7169 13.1539 9.4968 13.1539C7.27666 13.1539 5.47046 11.4763 5.47046 9.4141ZM6.73585 9.41406C6.73585 10.8281 7.97442 11.9785 9.4968 11.9785C11.0192 11.9785 12.2577 10.8281 12.2577 9.41406C12.2577 8.00003 11.0192 6.84959 9.4968 6.84959C7.97442 6.84959 6.73585 8.00003 6.73585 9.41406Z" fill="#D70029"/>
                        <path d="M15.5104 3.54809L15.7965 3.26856L15.5104 3.54809ZM18 9.6997H18.4V9.6997L18 9.6997ZM11.3242 20.411L11.0565 20.1137L11.0507 20.1192L11.3242 20.411ZM11.3241 20.4111L11.5917 20.7085L11.5977 20.7029L11.3241 20.4111ZM11.322 20.413L11.0545 20.1156L11.0544 20.1157L11.322 20.413ZM10.4969 21.1683L10.7733 21.4575L10.7733 21.4574L10.4969 21.1683ZM8.50314 21.1683L8.77956 20.8792L8.77954 20.8792L8.50314 21.1683ZM7.67586 20.4111L7.9435 20.1138H7.9435L7.67586 20.4111ZM3.4896 3.54809L3.20349 3.26856L3.4896 3.54809ZM10.5466 19.5064L10.8142 19.8037L10.8142 19.8037L10.5466 19.5064ZM9.69322 20.2879L9.96952 20.5771L9.96961 20.577L9.69322 20.2879ZM16.8227 9.69974H16.4227V9.69975L16.8227 9.69974ZM8.45336 19.5064L8.72124 19.2094L8.721 19.2091L8.45336 19.5064ZM8.45504 19.5079L8.18716 19.805L8.1874 19.8052L8.45504 19.5079ZM9.3067 20.2879L9.03023 20.577L9.0304 20.5771L9.3067 20.2879ZM15.7965 3.26856C14.1168 1.54938 11.8796 0.6 9.50002 0.6V1.4C11.6613 1.4 13.6931 2.26047 15.2243 3.82763L15.7965 3.26856ZM18.4 9.6997C18.4 7.27285 17.4759 4.98746 15.7965 3.26856L15.2243 3.82763C16.7558 5.39515 17.6 7.47911 17.6 9.69971L18.4 9.6997ZM11.5919 20.7083C12.7563 19.6599 14.4529 18.1337 15.8565 16.2712C17.2586 14.4106 18.4 12.1736 18.4 9.6997H17.6C17.6 11.9266 16.5701 13.9949 15.2176 15.7897C13.8666 17.5825 12.2253 19.0615 11.0566 20.1137L11.5919 20.7083ZM11.5977 20.7029L11.5978 20.7028L11.0507 20.1192L11.0506 20.1193L11.5977 20.7029ZM11.5896 20.7103L11.5917 20.7085L11.0566 20.1137L11.0545 20.1156L11.5896 20.7103ZM10.7733 21.4574C10.9906 21.2497 11.2648 21.0027 11.5897 20.7102L11.0544 20.1157C10.7326 20.4054 10.4483 20.6613 10.2204 20.8792L10.7733 21.4574ZM9.49998 21.9692C9.95827 21.9692 10.4169 21.7981 10.7733 21.4575L10.2205 20.8792C10.0178 21.0729 9.75914 21.1692 9.49998 21.1692V21.9692ZM8.22671 21.4575C8.58307 21.7982 9.04179 21.9692 9.49998 21.9692V21.1692C9.24088 21.1692 8.98216 21.0729 8.77956 20.8792L8.22671 21.4575ZM7.40822 20.7084C7.73398 21.0017 8.00893 21.2493 8.22673 21.4575L8.77954 20.8792C8.5512 20.6609 8.26619 20.4043 7.9435 20.1138L7.40822 20.7084ZM0.6 9.6997C0.6 12.1737 1.74146 14.4107 3.14357 16.2713C4.54717 18.1338 6.24385 19.66 7.40822 20.7084L7.9435 20.1138C6.77478 19.0616 5.13352 17.5826 3.78247 15.7898C2.42992 13.995 1.4 11.9266 1.4 9.6997H0.6ZM3.20349 3.26856C1.52409 4.98745 0.6 7.27285 0.6 9.6997H1.4C1.4 7.47911 2.24421 5.39515 3.77571 3.82763L3.20349 3.26856ZM9.50002 0.6C7.12049 0.6 4.88316 1.54938 3.20349 3.26856L3.77571 3.82763C5.30685 2.26047 7.33873 1.4 9.50002 1.4V0.6ZM10.2789 19.2092C9.949 19.5062 9.65796 19.7682 9.41682 19.9987L9.96961 20.577C10.2003 20.3565 10.4815 20.1033 10.8142 19.8037L10.2789 19.2092ZM16.4227 9.69975C16.4227 11.6489 15.4628 13.5207 14.19 15.1773C12.9205 16.8296 11.3779 18.2197 10.2789 19.2092L10.8142 19.8037C11.9086 18.8184 13.5041 17.3831 14.8243 15.6647C16.1413 13.9507 17.2227 11.9066 17.2227 9.69974L16.4227 9.69975ZM9.49994 2.60495C13.3081 2.60495 16.4227 5.7792 16.4227 9.69974H17.2227C17.2227 5.35499 13.7673 1.80495 9.49994 1.80495V2.60495ZM2.57717 9.69974C2.57717 5.7792 5.69175 2.60495 9.49994 2.60495V1.80495C5.23251 1.80495 1.77717 5.35499 1.77717 9.69974H2.57717ZM8.721 19.2091C7.62199 18.2197 6.07943 16.8296 4.80993 15.1773C3.53713 13.5207 2.57717 11.6489 2.57717 9.69974H1.77717C1.77717 11.9066 2.8586 13.9507 4.17555 15.6647C5.4958 17.3831 7.09134 18.8184 8.18573 19.8037L8.721 19.2091ZM8.72292 19.2109L8.72124 19.2094L8.18548 19.8035L8.18716 19.805L8.72292 19.2109ZM9.58317 19.9988C9.34242 19.7685 9.05184 19.507 8.72268 19.2106L8.1874 19.8052C8.51947 20.1042 8.80005 20.3568 9.03023 20.577L9.58317 19.9988ZM9.41691 19.9986C9.4631 19.9545 9.53678 19.9545 9.58301 19.9986L9.0304 20.5771C9.29345 20.8284 9.70659 20.8283 9.96952 20.5771L9.41691 19.9986ZM9.4968 5.27426C7.08406 5.27426 5.07046 7.10371 5.07046 9.4141H5.87046C5.87046 7.60012 7.46925 6.07426 9.4968 6.07426V5.27426ZM13.9231 9.4141C13.9231 7.10371 11.9095 5.27426 9.4968 5.27426V6.07426C11.5243 6.07426 13.1231 7.60012 13.1231 9.4141H13.9231ZM9.4968 13.5539C11.9095 13.5539 13.9231 11.7245 13.9231 9.4141H13.1231C13.1231 11.2281 11.5243 12.7539 9.4968 12.7539V13.5539ZM5.07046 9.4141C5.07046 11.7245 7.08406 13.5539 9.4968 13.5539V12.7539C7.46925 12.7539 5.87046 11.2281 5.87046 9.4141H5.07046ZM9.4968 11.5785C8.16701 11.5785 7.13585 10.5799 7.13585 9.41406H6.33585C6.33585 11.0763 7.78182 12.3785 9.4968 12.3785V11.5785ZM11.8577 9.41406C11.8577 10.5799 10.8266 11.5785 9.4968 11.5785V12.3785C11.2118 12.3785 12.6577 11.0763 12.6577 9.41406H11.8577ZM9.4968 7.24959C10.8266 7.24959 11.8577 8.24823 11.8577 9.41406H12.6577C12.6577 7.75183 11.2118 6.44958 9.4968 6.44958V7.24959ZM7.13585 9.41406C7.13585 8.24824 8.16701 7.24959 9.4968 7.24959V6.44958C7.78182 6.44958 6.33585 7.75182 6.33585 9.41406H7.13585Z" fill="#D70029"/>
                </svg>
                <span class="contacts__show-map-text">
                        Показать на карте
                </span>
            `)
            $('.content-entry').find('.accordion-content').slideUp();
            $(this).html('Закрыть карту');
            $(this).closest('.content-entry').toggleClass('open');
            $(this).closest('.content-entry').find('.accordion-content').slideDown();
        }
    });
}
